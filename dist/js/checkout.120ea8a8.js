(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["checkout"],{"7cb4":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("section",{staticClass:"checkout_area section-margin--small"},[e("div",{staticClass:"container"},[e("div",{staticClass:"billing_details"},[e("div",{staticClass:"row justify-content-center alig-content-center align-items-center"},[e("div",{staticClass:"col-lg-8"},[e("div",{staticClass:"order_box"},[e("h2",[t._v("Your Order")]),e("ul",{staticClass:"list"},t._l(t.Productos_enCarrito,(function(a,i){return e("li",{key:i},[e("a",{attrs:{href:"#"}},[t._v("\n                    "+t._s(a.Nombre)+"\n                    "),e("span",{staticClass:"middle"},[t._v("x "+t._s(a.Cantidad))]),e("span",{staticClass:"last"},[t._v("$"+t._s(parseFloat(a.Precio)*parseFloat(a.Cantidad)))])])])})),0),e("ul",{staticClass:"list list_2"},[e("li",[e("a",{attrs:{href:"#"}},[t._v("\n                    Total\n                    "),e("span",[t._v("$"+t._s(t.total))])])])]),e("div",{staticClass:"text-center"},[e("a",{staticClass:"button button-paypal",attrs:{href:"#"},on:{click:function(a){return t.Generar_Recibo()}}},[t._v("Proceed to Paypal")])])])])])])])])])},o=[],r=(e("a481"),e("ac6a"),e("dc59")),n=e("1940"),c=e.n(n),s={name:"Checkout",data:function(){return{Productos_enCarrito:[],Total:[]}},created:function(){var t=this;r["a"].collection("Carrito").where("Usuario_id","==",r["c"].auth().currentUser.uid).get().then((function(a){a.forEach((function(a){var e={Producto_id:a.data().Producto_id,Imagen:a.data().Imagen,Nombre:a.data().Nombre,Categoria:a.data().Categoria,Precio:a.data().Precio,Descripcion:a.data().Descripcion,Cantidad:a.data().Cantidad};t.Productos_enCarrito.push(e),t.Total.push(parseInt(e.Precio)*parseInt(e.Cantidad))}))}))},computed:{total:function(){return this.Total.reduce((function(t,a){return t+a}),0)}},methods:{Generar_Recibo:function(){var t=this;r["a"].collection("Recibos").add({}).then((function(a){r["a"].collection("Recibos").doc(a.id).set({Recibo_id:a.id,Comprador_id:r["c"].auth().currentUser.uid,Detalles:t.Productos_enCarrito,Total:t.total}),c()({title:"Compra realizada",text:"Puedes verificar tus compras en tu historial",icon:"success",buttons:"ok"})})).then((function(){r["a"].collection("Carrito").where("Usuario_id","==",r["c"].auth().currentUser.uid).get().then((function(a){a.forEach((function(a){a.ref.delete().then((function(){t.$router.replace("/historial")}))}))}))})).catch((function(t){return console.log(t)}))}}},l=s,u=e("2877"),d=Object(u["a"])(l,i,o,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=checkout.120ea8a8.js.map