{"version":3,"sources":["webpack:///./src/views/Checkout.vue?cf5e","webpack:///src/views/Checkout.vue","webpack:///./src/views/Checkout.vue?39ed","webpack:///./src/views/Checkout.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_l","Producto","index","key","attrs","_s","Nombre","Cantidad","parseFloat","Precio","total","on","$event","Generar_Recibo","staticRenderFns","name","data","Productos_enCarrito","Total","created","computed","reduce","item","methods","component"],"mappings":"mHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,YAAY,uCAAuC,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,qEAAqE,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,gBAAgBH,EAAG,KAAK,CAACE,YAAY,QAAQN,EAAIQ,GAAIR,EAAuB,qBAAE,SAASS,EAASC,GAAO,OAAON,EAAG,KAAK,CAACO,IAAID,GAAO,CAACN,EAAG,IAAI,CAACQ,MAAM,CAAC,KAAO,MAAM,CAACZ,EAAIO,GAAG,yBAAyBP,EAAIa,GAAGJ,EAASK,QAAQ,0BAA0BV,EAAG,OAAO,CAACE,YAAY,UAAU,CAACN,EAAIO,GAAG,KAAKP,EAAIa,GAAGJ,EAASM,aAAaX,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAG,IAAIP,EAAIa,GAAGG,WAAWP,EAASQ,QAAQD,WAAWP,EAASM,qBAAoB,GAAGX,EAAG,KAAK,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACA,EAAG,IAAI,CAACQ,MAAM,CAAC,KAAO,MAAM,CAACZ,EAAIO,GAAG,qDAAqDH,EAAG,OAAO,CAACJ,EAAIO,GAAG,IAAIP,EAAIa,GAAGb,EAAIkB,gBAAgBd,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACE,YAAY,uBAAuBM,MAAM,CAAC,KAAO,KAAKO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOpB,EAAIqB,oBAAoB,CAACrB,EAAIO,GAAG,wCAC/rCe,EAAkB,G,uDCgDtB,GACEC,KAAM,WACNC,KAFF,WAGI,MAAO,CACLC,oBAAqB,GACrBC,MAAO,KAIXC,QATF,WASA,WACI,EAAJ,2BACA,uDACA,MACA,kBACM,EAAN,qBAEQ,IAAR,GACU,YAAV,qBACU,OAAV,gBACU,OAAV,gBACU,UAAV,mBACU,OAAV,gBACU,YAAV,qBACU,SAAV,mBAEQ,EAAR,4BACQ,EAAR,2DAMEC,SAAU,CACRV,MAAO,WACL,OAAOjB,KAAKyB,MAAMG,QAAO,SAA/B,KACQ,OAAOX,EAAQY,IACvB,KAIEC,QAAS,CACPV,eADJ,WAEM,IAAN,OACM,EAAN,2BACA,QACA,kBACQ,EAAR,2BACA,UACA,KACU,UAAV,KACU,aAAV,8BACU,SAAV,sBACU,MAAV,UAGQ,IAAR,CACU,MAAV,mBACU,KAAV,+CACU,KAAV,UACU,QAAV,UAEA,iBACQ,EAAR,0GACU,EAAV,qBACY,EAAZ,aACA,iBAAc,EAAd,0CAIA,mBAAQ,OAAR,qBCtHkV,I,YCO9UW,EAAY,eACd,EACAjC,EACAuB,GACA,EACA,KACA,KACA,MAIa,aAAAU,E","file":"js/checkout.120ea8a8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"checkout_area section-margin--small\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"billing_details\"},[_c('div',{staticClass:\"row justify-content-center alig-content-center align-items-center\"},[_c('div',{staticClass:\"col-lg-8\"},[_c('div',{staticClass:\"order_box\"},[_c('h2',[_vm._v(\"Your Order\")]),_c('ul',{staticClass:\"list\"},_vm._l((_vm.Productos_enCarrito),function(Producto,index){return _c('li',{key:index},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"\\n                    \"+_vm._s(Producto.Nombre)+\"\\n                    \"),_c('span',{staticClass:\"middle\"},[_vm._v(\"x \"+_vm._s(Producto.Cantidad))]),_c('span',{staticClass:\"last\"},[_vm._v(\"$\"+_vm._s(parseFloat(Producto.Precio)*parseFloat(Producto.Cantidad)))])])])}),0),_c('ul',{staticClass:\"list list_2\"},[_c('li',[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"\\n                    Total\\n                    \"),_c('span',[_vm._v(\"$\"+_vm._s(_vm.total))])])])]),_c('div',{staticClass:\"text-center\"},[_c('a',{staticClass:\"button button-paypal\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.Generar_Recibo()}}},[_vm._v(\"Proceed to Paypal\")])])])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!--================Checkout Area =================-->\n    <section class=\"checkout_area section-margin--small\">\n      <div class=\"container\">\n        <div class=\"billing_details\">\n          <div class=\"row justify-content-center alig-content-center align-items-center\">\n            <div class=\"col-lg-8\">\n              <div class=\"order_box\">\n                <h2>Your Order</h2>\n                <ul class=\"list\">\n                  <li v-for=\"(Producto, index) in Productos_enCarrito\" :key=\"index\">\n                    <a href=\"#\">\n                      {{Producto.Nombre}}\n                      <span class=\"middle\">x {{Producto.Cantidad}}</span>\n                      <span\n                        class=\"last\"\n                      >${{parseFloat(Producto.Precio)*parseFloat(Producto.Cantidad)}}</span>\n                    </a>\n                  </li>\n                </ul>\n                <ul class=\"list list_2\">\n                  <li>\n                    <a href=\"#\">\n                      Total\n                      <span>${{total}}</span>\n                    </a>\n                  </li>\n                </ul>\n                <div class=\"text-center\">\n                  <a\n                    @click=\"Generar_Recibo()\"\n                    class=\"button button-paypal\"\n                    href=\"#\"\n                  >Proceed to Paypal</a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n    <!--================End Checkout Area =================-->\n  </div>\n</template>\n\n<script>\nimport { firebase, db } from \"../firebase.js\";\nimport Swal from 'sweetalert';\nexport default {\n  name: \"Checkout\",\n  data() {\n    return {\n      Productos_enCarrito: [],\n      Total: []\n    };\n  },\n\n  created() {\n    db.collection(\"Carrito\")\n      .where(\"Usuario_id\", \"==\", firebase.auth().currentUser.uid)\n      .get()\n      .then(querySnapshot => {\n        querySnapshot.forEach(doc => {\n          //console.log(doc.data())\n          const data = {\n            Producto_id: doc.data().Producto_id,\n            Imagen: doc.data().Imagen,\n            Nombre: doc.data().Nombre,\n            Categoria: doc.data().Categoria,\n            Precio: doc.data().Precio,\n            Descripcion: doc.data().Descripcion,\n            Cantidad: doc.data().Cantidad\n          };\n          this.Productos_enCarrito.push(data);\n          this.Total.push(parseInt(data.Precio) * parseInt(data.Cantidad));\n          //console.log(this.Total);\n        });\n      });\n  },\n\n  computed: {\n    total: function() {\n      return this.Total.reduce(function(total, item) {\n        return total + item;\n      }, 0);\n    }\n  },\n\n  methods: {\n    Generar_Recibo() {\n      let self = this;\n      db.collection(\"Recibos\")\n        .add({})\n        .then(function(docRef) {\n          db.collection(\"Recibos\")\n            .doc(docRef.id)\n            .set({\n              Recibo_id: docRef.id,\n              Comprador_id: firebase.auth().currentUser.uid,\n              Detalles: self.Productos_enCarrito,\n              Total: self.total,\n            });\n\n          Swal({\n            title: \"Compra realizada\",\n            text: \"Puedes verificar tus compras en tu historial\",\n            icon: \"success\",\n            buttons: \"ok\"\n          })\n        }).then(() =>{\n            db.collection('Carrito').where('Usuario_id', '==' , firebase.auth().currentUser.uid).get().then(querySnapshot =>{\n                querySnapshot.forEach(doc => {\n                    doc.ref.delete()\n                        .then(() =>{self.$router.replace('/historial')});\n                })\n            })\n        })\n        .catch(error => console.log(error));\n\n        \n\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Checkout.vue?vue&type=template&id=13b8d467&\"\nimport script from \"./Checkout.vue?vue&type=script&lang=js&\"\nexport * from \"./Checkout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}